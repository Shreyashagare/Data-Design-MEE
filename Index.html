<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seeing the World Differently by ~A006 Shreyash Agare</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/debug.addIndicators.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            overflow-x: hidden;
            background-color: #EDF1DC;
            color: #333;
            width: 100vw;
        }

        section {
            min-height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            background-color: #EDF1DC;
        }

        .intro {
            padding: 40px;
            text-align: center;
            width: 100%;
        }

        .lottie-section {
            height: 200vh; /* Double height to allow for animation scrolling */
            width: 100vw;
        }

        .lottie-container {
            width: 100vw;
            height: 100vh;
            position: sticky;
            top: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .lottie-animation {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .spacer {
            height: 20vh;
            width: 100vw;
            background-color: #EDF1DC;
        }

        .vision-section {
            flex-direction: column;
            padding: 50px;
            text-align: center;
            min-height: 100vh;
            width: 100vw;
        }

        .vision-comparison {
            display: flex;
            justify-content: space-around;
            width: 100%;
            max-width: 800px;
            margin: 30px auto 0;
        }

        .vision-type {
            width: 45%;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .final-section {
            padding: 50px;
            text-align: center;
            width: 100vw;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            color: #2C3E50;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #2980B9;
        }

        p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 20px auto;
            line-height: 1.6;
            color: #34495E;
        }

        #lottie3 {
            width: 100vw;
            height: 100vh;
            max-width: none;
            position: absolute;
            top: 0;
            left: 0;
            object-fit: cover;
        }

        .third-section {
            height: 200vh;
            width: 100vw;
            position: relative;
        }

        .hero-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        #prey, #predator {
            width: 100%; /* Set width to 100% of the parent container */
            height: auto; /* Maintain aspect ratio */
            max-width: 800px; /* Optional: Set a maximum width */
        }

        .placeholder-section {
            width: 100vw;
            min-height: 100vh;
            background-color: transparent; /* Removed blue color */
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <!-- Intro Section -->
    <section class="intro">
        <div>
            <h1>Welcome to Seeing the World Differently</h1>
            <p>Scroll down to explore animations that change your perspective.</p>
        </div>
    </section>

    <!-- Spacer -->
    <div class="spacer"></div>

    <!-- First Lottie Animation Section -->
    <section class="lottie-section" id="lottie-section-1">
        <div class="lottie-container">
            <div id="lottie1" class="lottie-animation"></div>
        </div>
    </section>

    <!-- Second Lottie Animation Section -->
    <section class="lottie-section" id="lottie-section-2">
        <div class="lottie-container">
            <div id="lottie2" class="lottie-animation"></div>
        </div>
    </section>

    <!-- Vision Title Section -->
    <section class="vision-section" id="vision-section">
        <h1>Why Do Humans Have More Binocular Vision Than Monocular?</h1>
    </section>

    <!-- Placeholder Section (moved above) -->
    <section class="placeholder-section" style="background-color: transparent;">
        <object id="tree-diagram" type="image/svg+xml" data="tree diagram.svg" style="width: 100%; height: 100%; max-width: 1200px;"></object>
    </section>

    <!-- Prey and Predator Sections -->
    <section class="vision-section">
        <h2 style="margin-top: 20px; margin-bottom: 20px;">Prey Animals</h2>
        <div class="vision-comparison" style="margin-bottom: 20px;">
            <object id="prey" type="image/svg+xml" data="prey.svg"></object>
        </div>
        <p style="margin-bottom: 40px;">Horses, sheep, and rabbits are prey animals, meaning they need to watch for predators. Their eyes are on the sides of their heads, giving them wide monocular vision to spot danger from almost all directions. This helps them stay alert and escape quickly if a predator approaches.</p>
        
        <h2 style="margin-top: 60px; margin-bottom: 20px;">Predator Animals</h2>
        <div class="vision-comparison" style="margin-bottom: 20px;">
            <object id="predator" type="image/svg+xml" data="predator.svg"></object>
        </div>
        <p>Predators like wolves, lions, and eagles have forward-facing eyes that provide binocular vision. This overlap in the visual fields gives them better depth perception, which is crucial for judging distances when hunting and capturing prey.</p>
    </section>

    <!-- Final Content Section -->
    <section class="final-section">
        <div>
            <h1>Thank You!</h1>
            <p>You've reached the end of the animations. We hope you enjoyed the journey!</p>
        </div>
    </section>

    <script>
        // Initialize ScrollMagic controller
        const controller = new ScrollMagic.Controller();
        
        // Define animation durations for reference in scroll events
        let animation1Duration, animation2Duration;
        
        // Load and initialize the first Lottie animation
        const anim1 = lottie.loadAnimation({
            container: document.getElementById('lottie1'),
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: 'Flow 1.json' // Path to your first Lottie JSON file
        });

        // Load and initialize the second Lottie animation
        const anim2 = lottie.loadAnimation({
            container: document.getElementById('lottie2'),
            renderer: 'svg',
            loop: false,
            autoplay: false,
            path: 'Flow 2.json' // Path to your second Lottie JSON file
        });

        // Function to load SVGs
        function loadVisualizations() {
            // Load the SVGs
            const preySVG = document.getElementById('prey');
            const predatorSVG = document.getElementById('predator');

            // Ensure SVGs are loaded
            preySVG.addEventListener('load', () => {
                console.log('Prey SVG loaded');
            });
            predatorSVG.addEventListener('load', () => {
                console.log('Predator SVG loaded');
            });
        }

        // Wait for DOM content to be loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Call the load function
            loadVisualizations();
        });

        // Wait for animations to be ready
        anim1.addEventListener('DOMLoaded', function() {
            animation1Duration = anim1.totalFrames;
            // Create first animation scene
            createScrollScene('lottie-section-1', anim1);
        });

        anim2.addEventListener('DOMLoaded', function() {
            animation2Duration = anim2.totalFrames;
            // Create second animation scene
            createScrollScene('lottie-section-2', anim2);
        });

        // Function to create scroll scenes
        function createScrollScene(sectionId, animation) {
            // Get total frames of the animation
            const totalFrames = animation.totalFrames;
            
            // Create a timeline
            const tween = gsap.to({frame: 0}, {
                frame: totalFrames - 1,
                duration: 1,
                ease: "none",
                onUpdate: function() {
                    animation.goToAndStop(Math.round(this.targets()[0].frame), true);
                }
            });
            
            // Create the scene
            new ScrollMagic.Scene({
                triggerElement: `#${sectionId}`,
                duration: '100%', // Animation spans the entire section height
                triggerHook: 0, // Trigger at the top of the viewport
            })
            .setTween(tween)
            .setPin(`#${sectionId} .lottie-container`) // Pin the animation during scroll
            .addTo(controller);
        }
    </script>
</body>
</html>